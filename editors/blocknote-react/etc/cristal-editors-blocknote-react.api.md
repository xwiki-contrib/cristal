## API Report File for "@xwiki/cristal-editors-blocknote-react"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { AttachmentsService } from '@xwiki/cristal-attachments-api';
import { Block } from '@blocknote/core';
import { BlockNoteEditor } from '@blocknote/core';
import { BlockNoteEditorOptions } from '@blocknote/core';
import { BlockNoteSchema } from '@blocknote/core';
import { BlockSchemaFromSpecs } from '@blocknote/core';
import { CollaborationInitializer } from '@xwiki/cristal-collaboration-api';
import { CustomBlockConfig } from '@blocknote/core';
import { CustomInlineContentConfig } from '@blocknote/core';
import { DefaultReactSuggestionItem } from '@blocknote/react';
import { DocumentService } from '@xwiki/cristal-document-api';
import { InlineContentImplementation } from '@blocknote/core';
import { InlineContentSchema } from '@blocknote/core';
import { InlineContentSchemaFromSpecs } from '@blocknote/core';
import { Link } from '@blocknote/core';
import { LinkSuggestService } from '@xwiki/cristal-link-suggest-api';
import * as locales from '@blocknote/core/locales';
import { ModelReferenceHandler } from '@xwiki/cristal-model-reference-api';
import { ModelReferenceParser } from '@xwiki/cristal-model-reference-api';
import { ModelReferenceSerializer } from '@xwiki/cristal-model-reference-api';
import { PartialBlock } from '@blocknote/core';
import { PartialInlineContent } from '@blocknote/core';
import { ReactCustomBlockImplementation } from '@blocknote/react';
import { ReactInlineContentImplementation } from '@blocknote/react';
import { ReactNode } from 'react';
import { RemoteURLParser } from '@xwiki/cristal-model-remote-url-api';
import { RemoteURLSerializer } from '@xwiki/cristal-model-remote-url-api';
import { StyledText } from '@blocknote/core';
import { StyleImplementation } from '@blocknote/core';
import { StyleSchema } from '@blocknote/core';
import { StyleSchemaFromSpecs } from '@blocknote/core';
import { TiptapBlockImplementation } from '@blocknote/core';

// @beta
export type BlockNoteViewWrapperProps = {
    blockNoteOptions?: Partial<Omit<DefaultEditorOptionsType, "schema" | "collaboration">>;
    theme?: "light" | "dark";
    lang: EditorLanguage;
    content: BlockType[];
    macros: null | {
        buildable: BuildableMacro[];
        openMacroParamsEditor: ContextForMacros["openParamsEditor"];
    };
    realtime?: {
        collaborationProvider: () => CollaborationInitializer;
        user: {
            name: string;
            color: string;
        };
    };
    onChange?: (editor: EditorType) => void;
    linkEditionCtx: LinkEditionContext;
    refs?: {
        setEditor?: (editor: EditorType) => void;
    };
};

// @beta (undocumented)
export type BlockOfType<B extends BlockType["type"]> = Extract<BlockType, {
    type: B;
}>;

// @beta (undocumented)
export type BlockType = Block<EditorBlockSchema, EditorInlineContentSchema, EditorStyleSchema>;

// @beta
export type BuildableMacro = (ctx: ContextForMacros) => Macro;

// @beta
export type ContextForMacros = {
    openParamsEditor(macro: Macro, params: Record<string, boolean | number | string>, update: (newProps: Record<string, boolean | number | string>) => void): void;
};

// @beta
export function createBlockNoteSchema(macros: Macro[]): BlockNoteSchema<BlockSchemaFromSpecs<    {
Heading4: {
config: {
readonly type: "Heading4" | "Heading5" | "Heading6";
readonly content: "inline";
readonly propSchema: {};
};
implementation: TiptapBlockImplementation<    {
readonly type: "Heading4" | "Heading5" | "Heading6";
readonly content: "inline";
readonly propSchema: {};
}, any, InlineContentSchema, StyleSchema>;
};
Heading5: {
config: {
readonly type: "Heading4" | "Heading5" | "Heading6";
readonly content: "inline";
readonly propSchema: {};
};
implementation: TiptapBlockImplementation<    {
readonly type: "Heading4" | "Heading5" | "Heading6";
readonly content: "inline";
readonly propSchema: {};
}, any, InlineContentSchema, StyleSchema>;
};
Heading6: {
config: {
readonly type: "Heading4" | "Heading5" | "Heading6";
readonly content: "inline";
readonly propSchema: {};
};
implementation: TiptapBlockImplementation<    {
readonly type: "Heading4" | "Heading5" | "Heading6";
readonly content: "inline";
readonly propSchema: {};
}, any, InlineContentSchema, StyleSchema>;
};
paragraph: {
config: {
type: "paragraph";
content: "inline";
propSchema: {
backgroundColor: {
default: "default";
};
textColor: {
default: "default";
};
textAlignment: {
default: "left";
values: readonly ["left", "center", "right", "justify"];
};
};
};
implementation: TiptapBlockImplementation<    {
type: "paragraph";
content: "inline";
propSchema: {
backgroundColor: {
default: "default";
};
textColor: {
default: "default";
};
textAlignment: {
default: "left";
values: readonly ["left", "center", "right", "justify"];
};
};
}, any, InlineContentSchema, StyleSchema>;
};
heading: {
config: {
type: "heading";
content: "inline";
propSchema: {
level: {
default: number;
values: readonly [1, 2, 3, 4, 5, 6];
};
isToggleable: {
default: false;
};
backgroundColor: {
default: "default";
};
textColor: {
default: "default";
};
textAlignment: {
default: "left";
values: readonly ["left", "center", "right", "justify"];
};
};
};
implementation: TiptapBlockImplementation<    {
type: "heading";
content: "inline";
propSchema: {
level: {
default: number;
values: readonly [1, 2, 3, 4, 5, 6];
};
isToggleable: {
default: false;
};
backgroundColor: {
default: "default";
};
textColor: {
default: "default";
};
textAlignment: {
default: "left";
values: readonly ["left", "center", "right", "justify"];
};
};
}, any, InlineContentSchema, StyleSchema>;
};
quote: {
config: {
type: "quote";
content: "inline";
propSchema: {
backgroundColor: {
default: "default";
};
textColor: {
default: "default";
};
textAlignment: {
default: "left";
values: readonly ["left", "center", "right", "justify"];
};
};
};
implementation: TiptapBlockImplementation<    {
type: "quote";
content: "inline";
propSchema: {
backgroundColor: {
default: "default";
};
textColor: {
default: "default";
};
textAlignment: {
default: "left";
values: readonly ["left", "center", "right", "justify"];
};
};
}, any, InlineContentSchema, StyleSchema>;
};
codeBlock: {
config: {
type: "codeBlock";
content: "inline";
propSchema: {
language: {
default: string;
};
};
};
implementation: TiptapBlockImplementation<    {
type: "codeBlock";
content: "inline";
propSchema: {
language: {
default: string;
};
};
}, any, InlineContentSchema, StyleSchema>;
};
bulletListItem: {
config: {
type: "bulletListItem";
content: "inline";
propSchema: {
backgroundColor: {
default: "default";
};
textColor: {
default: "default";
};
textAlignment: {
default: "left";
values: readonly ["left", "center", "right", "justify"];
};
};
};
implementation: TiptapBlockImplementation<    {
type: "bulletListItem";
content: "inline";
propSchema: {
backgroundColor: {
default: "default";
};
textColor: {
default: "default";
};
textAlignment: {
default: "left";
values: readonly ["left", "center", "right", "justify"];
};
};
}, any, InlineContentSchema, StyleSchema>;
};
numberedListItem: {
config: {
type: "numberedListItem";
content: "inline";
propSchema: {
start: {
default: undefined;
type: "number";
};
backgroundColor: {
default: "default";
};
textColor: {
default: "default";
};
textAlignment: {
default: "left";
values: readonly ["left", "center", "right", "justify"];
};
};
};
implementation: TiptapBlockImplementation<    {
type: "numberedListItem";
content: "inline";
propSchema: {
start: {
default: undefined;
type: "number";
};
backgroundColor: {
default: "default";
};
textColor: {
default: "default";
};
textAlignment: {
default: "left";
values: readonly ["left", "center", "right", "justify"];
};
};
}, any, InlineContentSchema, StyleSchema>;
};
checkListItem: {
config: {
type: "checkListItem";
content: "inline";
propSchema: {
checked: {
default: false;
};
backgroundColor: {
default: "default";
};
textColor: {
default: "default";
};
textAlignment: {
default: "left";
values: readonly ["left", "center", "right", "justify"];
};
};
};
implementation: TiptapBlockImplementation<    {
type: "checkListItem";
content: "inline";
propSchema: {
checked: {
default: false;
};
backgroundColor: {
default: "default";
};
textColor: {
default: "default";
};
textAlignment: {
default: "left";
values: readonly ["left", "center", "right", "justify"];
};
};
}, any, InlineContentSchema, StyleSchema>;
};
table: {
config: {
type: "table";
content: "table";
propSchema: {
textColor: {
default: "default";
};
};
};
implementation: TiptapBlockImplementation<    {
type: "table";
content: "table";
propSchema: {
textColor: {
default: "default";
};
};
}, any, InlineContentSchema, StyleSchema>;
};
image: {
config: {
type: "image";
propSchema: {
textAlignment: {
default: "left";
values: readonly ["left", "center", "right", "justify"];
};
backgroundColor: {
default: "default";
};
name: {
default: "";
};
url: {
default: "";
};
caption: {
default: "";
};
showPreview: {
default: true;
};
previewWidth: {
default: undefined;
type: "number";
};
};
content: "none";
isFileBlock: true;
fileBlockAccept: string[];
};
implementation: TiptapBlockImplementation<    {
type: "image";
propSchema: {
textAlignment: {
default: "left";
values: readonly ["left", "center", "right", "justify"];
};
backgroundColor: {
default: "default";
};
name: {
default: "";
};
url: {
default: "";
};
caption: {
default: "";
};
showPreview: {
default: true;
};
previewWidth: {
default: undefined;
type: "number";
};
};
content: "none";
isFileBlock: true;
fileBlockAccept: string[];
}, any, InlineContentSchema, StyleSchema>;
};
}>, InlineContentSchemaFromSpecs<    {
text: {
config: "text";
implementation: any;
};
link: {
config: "link";
implementation: any;
};
}>, StyleSchemaFromSpecs<    {
bold: {
config: {
type: string;
propSchema: "boolean";
};
implementation: StyleImplementation;
};
italic: {
config: {
type: string;
propSchema: "boolean";
};
implementation: StyleImplementation;
};
underline: {
config: {
type: string;
propSchema: "boolean";
};
implementation: StyleImplementation;
};
strike: {
config: {
type: string;
propSchema: "boolean";
};
implementation: StyleImplementation;
};
code: {
config: {
type: string;
propSchema: "boolean";
};
implementation: StyleImplementation;
};
textColor: {
config: {
type: string;
propSchema: "string";
};
implementation: StyleImplementation;
};
backgroundColor: {
config: {
type: string;
propSchema: "string";
};
implementation: StyleImplementation;
};
}>>;

// @beta
export function createDictionary(lang: EditorLanguage): {
    slash_menu: {
        heading: {
            title: string;
            subtext: string;
            aliases: string[];
            group: string;
        };
        heading_2: {
            title: string;
            subtext: string;
            aliases: string[];
            group: string;
        };
        heading_3: {
            title: string;
            subtext: string;
            aliases: string[];
            group: string;
        };
        heading_4: {
            title: string;
            subtext: string;
            aliases: string[];
            group: string;
        };
        heading_5: {
            title: string;
            subtext: string;
            aliases: string[];
            group: string;
        };
        heading_6: {
            title: string;
            subtext: string;
            aliases: string[];
            group: string;
        };
        toggle_heading: {
            title: string;
            subtext: string;
            aliases: string[];
            group: string;
        };
        toggle_heading_2: {
            title: string;
            subtext: string;
            aliases: string[];
            group: string;
        };
        toggle_heading_3: {
            title: string;
            subtext: string;
            aliases: string[];
            group: string;
        };
        quote: {
            title: string;
            subtext: string;
            aliases: string[];
            group: string;
        };
        toggle_list: {
            title: string;
            subtext: string;
            aliases: string[];
            group: string;
        };
        numbered_list: {
            title: string;
            subtext: string;
            aliases: string[];
            group: string;
        };
        bullet_list: {
            title: string;
            subtext: string;
            aliases: string[];
            group: string;
        };
        check_list: {
            title: string;
            subtext: string;
            aliases: string[];
            group: string;
        };
        paragraph: {
            title: string;
            subtext: string;
            aliases: string[];
            group: string;
        };
        code_block: {
            title: string;
            subtext: string;
            aliases: string[];
            group: string;
        };
        page_break: {
            title: string;
            subtext: string;
            aliases: string[];
            group: string;
        };
        table: {
            title: string;
            subtext: string;
            aliases: string[];
            group: string;
        };
        image: {
            title: string;
            subtext: string;
            aliases: string[];
            group: string;
        };
        video: {
            title: string;
            subtext: string;
            aliases: string[];
            group: string;
        };
        audio: {
            title: string;
            subtext: string;
            aliases: string[];
            group: string;
        };
        file: {
            title: string;
            subtext: string;
            aliases: string[];
            group: string;
        };
        emoji: {
            title: string;
            subtext: string;
            aliases: string[];
            group: string;
        };
    };
    placeholders: Record<string | "default" | "emptyDocument", string | undefined>;
    file_blocks: {
        image: {
            add_button_text: string;
        };
        video: {
            add_button_text: string;
        };
        audio: {
            add_button_text: string;
        };
        file: {
            add_button_text: string;
        };
    };
    side_menu: {
        add_block_label: string;
        drag_handle_label: string;
    };
    drag_handle: {
        delete_menuitem: string;
        colors_menuitem: string;
        header_row_menuitem: string;
        header_column_menuitem: string;
    };
    table_handle: {
        delete_column_menuitem: string;
        delete_row_menuitem: string;
        add_left_menuitem: string;
        add_right_menuitem: string;
        add_above_menuitem: string;
        add_below_menuitem: string;
        split_cell_menuitem: string;
        merge_cells_menuitem: string;
        background_color_menuitem: string;
    };
    suggestion_menu: {
        no_items_title: string;
    };
    color_picker: {
        text_title: string;
        background_title: string;
        colors: {
            default: string;
            gray: string;
            brown: string;
            red: string;
            orange: string;
            yellow: string;
            green: string;
            blue: string;
            purple: string;
            pink: string;
        };
    };
    formatting_toolbar: {
        bold: {
            tooltip: string;
            secondary_tooltip: string;
        };
        italic: {
            tooltip: string;
            secondary_tooltip: string;
        };
        underline: {
            tooltip: string;
            secondary_tooltip: string;
        };
        strike: {
            tooltip: string;
            secondary_tooltip: string;
        };
        code: {
            tooltip: string;
            secondary_tooltip: string;
        };
        colors: {
            tooltip: string;
        };
        link: {
            tooltip: string;
            secondary_tooltip: string;
        };
        file_caption: {
            tooltip: string;
            input_placeholder: string;
        };
        file_replace: {
            tooltip: Record<string, string>;
        };
        file_rename: {
            tooltip: Record<string, string>;
            input_placeholder: Record<string, string>;
        };
        file_download: {
            tooltip: Record<string, string>;
        };
        file_delete: {
            tooltip: Record<string, string>;
        };
        file_preview_toggle: {
            tooltip: string;
        };
        nest: {
            tooltip: string;
            secondary_tooltip: string;
        };
        unnest: {
            tooltip: string;
            secondary_tooltip: string;
        };
        align_left: {
            tooltip: string;
        };
        align_center: {
            tooltip: string;
        };
        align_right: {
            tooltip: string;
        };
        align_justify: {
            tooltip: string;
        };
        table_cell_merge: {
            tooltip: string;
        };
        comment: {
            tooltip: string;
        };
    };
    file_panel: {
        upload: {
            title: string;
            file_placeholder: Record<string, string>;
            upload_error: string;
        };
        embed: {
            title: string;
            embed_button: Record<string, string>;
            url_placeholder: string;
        };
    };
    link_toolbar: {
        delete: {
            tooltip: string;
        };
        edit: {
            text: string;
            tooltip: string;
        };
        open: {
            tooltip: string;
        };
        form: {
            title_placeholder: string;
            url_placeholder: string;
        };
    };
    comments: {
        edited: string;
        save_button_text: string;
        cancel_button_text: string;
        actions: {
            add_reaction: string;
            resolve: string;
            edit_comment: string;
            delete_comment: string;
            more_actions: string;
        };
        reactions: {
            reacted_by: string;
        };
        sidebar: {
            marked_as_resolved: string;
            more_replies: (count: number) => string;
        };
    };
    generic: {
        ctrl_shortcut: string;
    };
};

// @beta
export function createMacro<Parameters extends Record<string, MacroParameterType>>({ name, parameters, slashMenu, render, renderType, }: MacroCreationArgs<Parameters>): BuildableMacro;

// @beta
export const DEFAULT_MACROS: {
    XWikiMacroHTMLBlockMacro: BuildableMacro;
    XWikiMacroInlineHTMLMacro: BuildableMacro;
};

// @beta (undocumented)
export type EditorBlockSchema = EditorSchema extends BlockNoteSchema<infer BlockSchema, infer _, infer __> ? BlockSchema : never;

// @beta (undocumented)
export type EditorInlineContentSchema = EditorSchema extends BlockNoteSchema<infer _, infer InlineContentSchema, infer __> ? InlineContentSchema : never;

// Warning: (ae-forgotten-export) The symbol "_default" needs to be exported by the entry point index.d.ts
//
// @beta (undocumented)
export type EditorLanguage = keyof typeof locales & keyof typeof _default;

// @beta (undocumented)
export type EditorLink = Link<EditorStyleSchema>;

// @beta (undocumented)
export type EditorSchema = ReturnType<typeof createBlockNoteSchema>;

// @beta (undocumented)
export type EditorStyledText = StyledText<EditorStyleSchema>;

// @beta (undocumented)
export type EditorStyleSchema = EditorSchema extends BlockNoteSchema<infer _, infer __, infer StyleSchema> ? StyleSchema : never;

// @beta (undocumented)
export type EditorType = BlockNoteEditor<EditorBlockSchema, EditorInlineContentSchema, EditorStyleSchema>;

// @beta (undocumented)
export type LinkEditionContext = {
    linkSuggestService: LinkSuggestService;
    modelReferenceParser: ModelReferenceParser;
    modelReferenceSerializer: ModelReferenceSerializer;
    modelReferenceHandler: ModelReferenceHandler;
    remoteURLParser: RemoteURLParser;
    remoteURLSerializer: RemoteURLSerializer;
    attachmentsService: AttachmentsService;
    documentService: DocumentService;
};

// @beta
export type Macro = {
    name: string;
    parameters: Record<string, MacroParameterType>;
    renderType: "block" | "inline";
    blockNote: MacroForBlockNote;
};

// @beta
export const MACRO_NAME_PREFIX = "Macro_";

// @beta
export type MacroCreationArgs<Parameters extends Record<string, MacroParameterType>> = {
    name: string;
    renderType: "block" | "inline";
    parameters: Parameters;
    slashMenu: {
        description: string;
        defaultParameters: FilterUndefined<GetConcreteMacroParametersType<Parameters>>;
    } | false;
    render(params: GetConcreteMacroParametersType<Parameters>, contentRef: (node: HTMLElement | null) => void, openParamsEditor: () => void): React.ReactNode;
};

// @beta
export type MacroParameterType = ({
    type: "boolean";
} | {
    type: "float";
} | {
    type: "string";
} | {
    type: "stringEnum";
    possibleValues: string[];
}) & {
    optional?: true;
};

// @beta
export function mountBlockNote(containerEl: HTMLElement, props: BlockNoteViewWrapperProps): {
    unmount: () => void;
};

// @beta
export function querySuggestionsMenuItems(editor: EditorType, query: string, macros: Macro[]): DefaultReactSuggestionItem[];

// Warnings were encountered during analysis:
//
// dist/blocknote/utils.d.ts:116:5 - (ae-forgotten-export) The symbol "MacroForBlockNote" needs to be exported by the entry point index.d.ts
// dist/blocknote/utils.d.ts:206:9 - (ae-forgotten-export) The symbol "FilterUndefined" needs to be exported by the entry point index.d.ts
// dist/blocknote/utils.d.ts:206:9 - (ae-forgotten-export) The symbol "GetConcreteMacroParametersType" needs to be exported by the entry point index.d.ts
// dist/components/BlockNoteViewWrapper.d.ts:16:5 - (ae-forgotten-export) The symbol "DefaultEditorOptionsType" needs to be exported by the entry point index.d.ts

// (No @packageDocumentation comment for this package)

```
