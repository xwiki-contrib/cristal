## API Report File for "@xwiki/cristal-macros-api"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

// @beta
export interface BlockMacro<Parameters extends Record<string, MacroParameterType>> {
    infos: MacroInfos<Parameters>;
    render(params: GetConcreteMacroParametersType<Parameters>): MacroBlock[];
    renderAs: "block";
}

// @beta
export function eraseParamsTypeForMacroClass<Params extends Record<string, MacroParameterType>>(macro: new (...args: any[]) => Macro<Params>): MacroClassWithUnknownParamsType;

// @beta
export type FilterUndefined<T> = {
    [K in keyof T as undefined extends T[K] ? never : K]: T[K];
};

// @beta
export type GetConcreteMacroParametersType<T extends Record<string, MacroParameterType>> = UndefinableToOptional<{
    [Param in keyof T]: GetConcreteMacroParameterType<T[Param]>;
}>;

// @beta
export type GetConcreteMacroParameterType<T extends MacroParameterType> = (T["type"] extends "boolean" ? boolean : T["type"] extends "float" ? number : T["type"] extends "string" ? string : never) | (T["optional"] extends true ? undefined : never);

// @beta
export interface InlineMacro<Parameters extends Record<string, MacroParameterType>> {
    infos: MacroInfos<Parameters>;
    render(params: GetConcreteMacroParametersType<Parameters>): MacroInlineContent[];
    renderAs: "inline";
}

// @beta
export type Macro<Parameters extends Record<string, MacroParameterType>> = BlockMacro<Parameters> | InlineMacro<Parameters>;

// @beta
export type MacroAlignment = "left" | "center" | "right" | "justify";

// @beta
export type MacroBlock = {
    type: "paragraph";
    styles: MacroBlockStyles;
    content: MacroInlineContent[];
} | {
    type: "heading";
    level: 1 | 2 | 3 | 4 | 5 | 6;
    content: MacroInlineContent[];
    styles: MacroBlockStyles;
} | {
    type: "list";
    numbered?: boolean;
    items: MacroListItem[];
    styles: MacroBlockStyles;
} | {
    type: "quote";
    content: MacroBlock[];
    styles: MacroBlockStyles;
} | {
    type: "code";
    language?: string;
    content: string;
} | {
    type: "table";
    columns: MacroTableColumn[];
    rows: MacroTableCell[][];
    styles: MacroBlockStyles;
} | ({
    type: "image";
} & MacroImage) | {
    type: "macroBlock";
    name: string;
    params: Record<string, boolean | number | string>;
} | {
    type: "rawHtml";
    html: string;
} | {
    type: "macroBlockEditableArea";
};

// @beta
export type MacroBlockStyles = {
    cssClasses?: string[];
    textColor?: string;
    backgroundColor?: string;
    textAlignment?: MacroAlignment;
};

// @beta
export type MacroClassWithUnknownParamsType = new (...args: any[]) => MacroWithUnknownParamsType;

// @beta
export type MacroImage = {
    target: MacroLinkTarget;
    alt?: string;
    widthPx?: number;
    heightPx?: number;
};

// @beta
export interface MacroInfos<Parameters extends Record<string, MacroParameterType>> {
    defaultParameters: FilterUndefined<GetConcreteMacroParametersType<Parameters>> | false;
    description: string;
    id: string;
    name: string;
    params: Parameters;
    paramsDescription: {
        [P in keyof Parameters]: string;
    };
}

// @beta
export type MacroInlineContent = ({
    type: "text";
} & MacroText) | ({
    type: "link";
} & MacroLink) | {
    type: "rawHtml";
    html: string;
} | {
    type: "inlineMacro";
    name: string;
    params: Record<string, boolean | number | string>;
} | {
    type: "inlineMacroEditableArea";
};

// @beta
export type MacroLink = {
    target: MacroLinkTarget;
    content: Exclude<MacroInlineContent, {
        type: "link";
    }>[];
};

// @beta
export type MacroLinkTarget = {
    type: "internal";
    rawReference: string;
} | {
    type: "external";
    url: string;
};

// @beta
export type MacroListItem = {
    checked?: boolean;
    content: MacroInlineContent[];
    styles: MacroBlockStyles;
};

// @beta
export type MacroParameterType = ({
    type: "boolean";
} | {
    type: "float";
} | {
    type: "string";
}) & {
    optional?: true;
};

// @beta
export type MacroTableCell = {
    content: MacroInlineContent[];
    styles: MacroBlockStyles;
    rowSpan?: number;
    colSpan?: number;
};

// @beta
export type MacroTableColumn = {
    headerCell?: {
        content: MacroInlineContent[];
        styles: MacroBlockStyles;
    };
    widthPx?: number;
};

// @beta
export type MacroText = {
    content: string;
    styles: MacroTextStyles;
};

// @beta
export type MacroTextStyles = {
    bold?: boolean;
    italic?: boolean;
    strikethrough?: boolean;
    underline?: boolean;
    code?: boolean;
    textColor?: string;
    backgroundColor?: string;
};

// @beta
export type MacroWithUnknownParamsType = Macro<Record<string, MacroParameterType>>;

// @beta
export type UndefinableToOptional<T> = {
    [K in keyof T as undefined extends T[K] ? K : never]?: Exclude<T[K], undefined>;
} & {
    [K in keyof T as undefined extends T[K] ? never : K]: T[K];
};

// @beta
export type UnknownMacroParamsType = Record<string, boolean | number | string>;

// (No @packageDocumentation comment for this package)

```
